<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Red Pixel Simulator">
    <meta name="description" content="A sandbox-puzzle game based on interactions of pixels on a grid">
    <meta name="url" content="https://red-pixel-simulator.radioactivestuf.repl.co/">
    <meta name="image" content="https://red-pixel-simulator.radioactivestuf.repl.co/favicon.png">
    <meta property="og:title" content="Red Pixel Simulator">
    <meta property="og:description" content="A sandbox-puzzle game based on interactions of pixels on a grid">
    <meta property="og:url" content="https://red-pixel-simulator.radioactivestuf.repl.co/">
    <meta property="og:image" content="https://red-pixel-simulator.radioactivestuf.repl.co/favicon.png">
    <meta property="og:image:width" content="26">
    <meta property="og:image:height" content="26">
    <title>Red Pixel Simulator</title>
    <link rel="icon" href="./favicon.png" type="image/x-icon">
    <script src="./menu.js" defer></script>
    <script src="./p5.min.js" defer></script>
    <script src="./game.js" defer></script>
    <script src="./pixels.js" defer></script>
    <script src="./puzzles.js" defer></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./menu.css">
</head>
<body>
    <div id="tempCover" style="position: fixed; top: 0px; left: 0px; width: 100vw; height: 100vh; background-color: black; z-index: 1001;"></div>
    <canvas id="canvas"></canvas>
    <div id="sidebar">
        <!-- WARNING: Tables -->
        <div id="levelDetails">
            <div id="levelName">asdfsadf</div>
            <div id="levelDescription">sdfddf</div>
        </div>
        <div id="gameControls">
            <div id="pixelPicker"></div>
            <div id="pixelPickerDescription"></div>
            <br>
            <table><tbody>
                <tr>
                    <td>
                        <button id="sizeUp">▲</button>
                        <button id="sizeDown">▼</button>
                    </td>
                    <td>
                        <button id="backToMenu">Menu</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="pause">▐ ▌</button>
                    </td>
                    <td>
                        <button id="simulatePaused">>>></button>
                    </td>
                    <td>
                        <button id="advanceTick">>II</button>
                    </td>
                </tr>
            </tbody></table>
            <table><tbody>
                <tr>
                    <td style="width: 100%;" rowspan="3">
                        <textarea id="saveCode"></textarea>
                    </td>
                    <td>
                        <button id="generateSave">GENERATE<br>SAVE CODE</button>
                    </td>
                    <td>
                        <button id="uploadSave">UPLOAD<br>SAVE</button>
                    </td>
                    <td>
                        <button id="downloadSave">DOWNLOAD<br>SAVE</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="reset">Reset</button>
                    </td>
                    <td>
                        <button id="restart">Restart</button>
                    </td>
                </tr>
                <tr>
                    <td colspan="3">
                        <label id="gridSizeLabel" for="gridSize">Grid Size: </label>
                        <input id="gridSize" type="number" min="1" max="500" step="1">
                    </td>
                </tr>
                <tr>
                    <td style="width: 50%;">
                        <div>
                            <button id="noNoise">Disable Noise</button>
                            <button id="fadeEffect">Blur</button>
                            <button id="changeResolution">Change resolution (requires reload)</button>
                        </div>
                    </td>
                </tr>
            </tbody></table>
        </div>
        <div>
            <h1>
                &nbsp;Instructions
            </h1>
            <p>
                <b>Left click</b> to place pixels<br>
                <b>Right click</b> or <b>[Shift] + left click</b> to remove pixels<br>
                <b>Middle click</b> to pick the pixel at the cursor<br>
                <!-- <b>[Control] + left click</b> to select pixels<br> -->
                <b>[Control] + scroll</b> to zoom in and out<br>
                <b>[Control] + middle click</b> to move camera<br>
                Press keys listed in the pixel table or click on pixels in the <a href="#pixelPicker">pixel picker</a> to change what pixel is placed<br>
                Press <b>[Up Arrow]</b> and <b>[Down Arrow]</b> or <b>scroll</b> to change the size of the brush<br>
                Press <b>[p]</b> to pause<br>
                Press <b>[Enter]</b> while paused to advance 1 tick<br>
                <!-- Press <b>[d]</b> to duplicate the current selection -->
                Press <b>[r]</b> for rain<br>
                Press <b>[e]</b> for lava rain<br>
                Press <b>[b]</b> for bomb rain<br>
                Press <b>[n]</b> for nuke bomb<br>
            </p>
            <table class="tableHighlight"><tbody>
                <tr>
                    <td>Keybinds are currently being reassigned</td>
                </tr>
                <!-- <tr>
                    <td style="text-align: right;">`</td>
                    <td>air</td>
                </tr> -->
                <!-- <tr>
                    <td style="text-align: right;">1</td>
                    <td>sand</td>
                </tr>
                <tr>
                    <td style="text-align: right;">2</td>
                    <td>water</td>
                </tr>
                <tr>
                    <td style="text-align: right;">3</td>
                    <td>lava</td>
                </tr>
                <tr>
                    <td style="text-align: right;">4</td>
                    <td>concrete powder</td>
                </tr>
                <tr>
                    <td style="text-align: right;">5</td>
                    <td>concrete</td>
                </tr>
                <tr>
                    <td style="text-align: right;">6</td>
                    <td>nuke</td>
                </tr>
                <tr>
                    <td style="text-align: right;">7</td>
                    <td>PLANT</td>
                </tr>
                <tr>
                    <td style="text-align: right;">8</td>
                    <td>sponge</td>
                </tr>
                <tr>
                    <td style="text-align: right;">9</td>
                    <td>water pump</td>
                </tr>
                <tr>
                    <td style="text-align: right;">0</td>
                    <td>collapsible wall</td>
                </tr>
                <tr>
                    <td style="text-align: right;">-</td>
                    <td>nuke diffuser</td>
                </tr>
                <tr>
                    <td style="text-align: right;">;</td>
                    <td>horizontal slider</td>
                </tr>
                <tr>
                    <td style="text-align: right;">'</td>
                    <td>vertical slider</td>
                </tr>
                <tr>
                    <td style="text-align: right;">=</td>
                    <td>wall</td>
                </tr>
                <tr>
                    <td style="text-align: right;">[</td>
                    <td>lag spike generator</td>
                </tr>
                <tr>
                    <td style="text-align: right;">]</td>
                    <td>�����</td>
                </tr>
                <tr>
                    <td style="text-align: right;">\</td>
                    <td>huge nuke</td>
                </tr>
                <tr>
                    <td style="text-align: right;">i-j-k-l</td>
                    <td>pistons</td>
                </tr>
                <tr>
                    <td style="text-align: right;">t-g-f-h</td>
                    <td>piston rotators</td>
                </tr>
                <tr>
                    <td style="text-align: right;">w-a-s-d</td>
                    <td>cloners</td>
                </tr> -->
            </tbody></table>
            <div id="premadeSaves">
                <h1>
                    &nbsp;Premade save codes
                </h1>
                <table style="user-select: text;" class="tableHighlight"><tbody>
                    <tr><td class="save">
                        <span style="font-weight: bold">water, lava, and nukes (default)</span>
                        <button class="loadSave" onclick="loadPremade('default');">Load</button><br>
                        <save save-id="default">100;0;air-16:wall:rotator_right:piston_left:air:rotator_left:nuke_diffuser-6:rotator_right:piston_left:air-70:rotator_left:air-16:wall:rotator_right:piston_left:air:rotator_left:nuke_diffuser:nuke-4:nuke_diffuser:rotator_right:piston_left:air-70:rotator_left:air-16:wall:rotator_right:piston_left:air:rotator_left:nuke_diffuser:cloner_down-4:nuke_diffuser:rotator_right:piston_left:air-70:rotator_left:air-2000:nuke_diffuser-20:air-80:{air:pump:}9|air:{nuke_diffuser:air-99:}2|nuke_diffuser:air-83:wall-13:air-3:nuke_diffuser:air-83:wall:lava_generator-11:wall:air-3:nuke_diffuser:{air-83:wall:air-11:wall:air-3:nuke_diffuser:}5|{air-83:wall:air-11:wall:air-4:}7|air-83:{wall:air-99:}52|</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">missiles</span>
                        <button class="loadSave" onclick="loadPremade('missiles');">Load</button><br>
                        <save save-id="missiles">99;0;{air-99:}74|wall-3:{air-2:wall-5:}13|air-2:wall-3:{wall:collapsible:cloner_right:air-2:cloner_left:c4:}14|wall:{nuke_diffuser-2:cloner_right:air-2:cloner_left:huge_nuke:}14|nuke_diffuser:{wall:c4:cloner_right:air-2:cloner_left:c4:}14|wall:{wall:c4:cloner_right:air-2:cloner_left:collapsible:}14|wall:{nuke_diffuser:huge_nuke:cloner_right:air-2:cloner_left:nuke_diffuser:}14|wall:{wall:c4:cloner_right:air-2:cloner_left:c4:}14|wall:{wall-3:air-2:wall-2:}14|wall:{rotator_down:air:super_cloner_right:air-2:super_cloner_left:air:}14|rotator_down:{{wall:air:wall-4:air:}14|wall:}15|{rotator_up:piston_up:wall-4:piston_up:}14|rotator_up:</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">it's a small world</span>
                        <button class="loadSave" onclick="loadPremade('small');">Load</button><br>
                        <save save-id="small">50;</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">laser art</span>
                        <button class="loadSave" onclick="loadPremade('lasers');">Load</button><br>
                        <save save-id="lasers">100;0;wall:laser_down-99:{laser_right:air-99:}99|</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">nuke rain</span>
                        <button class="loadSave" onclick="loadPremade('nukerain');">Load</button><br>
                        <save save-id="nukerain">100;0;rotator_right:piston_right:rotator_left:nuke_diffuser-6:rotator_right:air:piston_right:air-87:rotator_left:rotator_right:piston_right:rotator_left:nuke_diffuser:nuke-4:nuke_diffuser:rotator_right:air:piston_right:air-87:rotator_left:rotator_right:piston_right:rotator_left:nuke_diffuser:cloner_down-4:nuke_diffuser:rotator_right:air:piston_right:air-87:rotator_left:</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">timer</span>
                        <button class="loadSave" onclick="loadPremade('timer');">Load</button><br>
                        <save save-id="timer">100;0;air-4547:wall:air-99:rotator_right:air-112:rotator_down:wall:air-597:piston_down:air-185:wall:rotator_up:air-9:piston_left:air-2:piston_left:air-91:cloner_down:air-7:rotator_left:air-69:wall:rotator_down:air-28:wall:air-160:wall:air-19:wall:air-79:{wall:lava-19:wall:air-79:}38|wall-21:air-58:</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">stop the lag</span>
                        <button class="loadSave" onclick="loadPremade('lag');">Load</button><br>
                        <save save-id="lag">100;0;corruption:</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">fancy waterfall</span>
                        <button class="loadSave" onclick="loadPremade('fancywater');">Load</button><br>
                        <save save-id="fancywater">100;0;air-39:water-10:pump-2:water-10:air-40:wall-98:air-101:cloner_down-49:air-2:cloner_down-49:air-9400:super_cloner_up-100:</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">cool pattern 1</span>
                        <button class="loadSave" onclick="loadPremade('cool1');">Load</button><br>
                        <save save-id="cool1">10;0;{rotator_clockwise:rotator_counterclockwise:}100|</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">cool pattern 2</span>
                        <button class="loadSave" onclick="loadPremade('cool2');">Load</button><br>
                        <save save-id="cool2">10;0;{{rotator_clockwise:rotator_counterclockwise:}5|{rotator_counterclockwise:rotator_clockwise:}5|}5|</save>
                    </td></tr>
                    <tr><td class="save">
                        <span style="font-weight: bold">pump checkerboard (for some reason)</span>
                        <button class="loadSave" onclick="loadPremade('pumpsbuh');">Load</button><br>
                        <save save-id="pumpsbuh">50;0;{{pump:air:}25|{air:pump:}25|}25|}</save>
                    </td></tr>
                </tbody></table>
            </div>
            <br>
        </div>
    </div>
    <div id="winScreen">
        <div id="winBox">
            <div id="winText">Puzzle Complete!</div>
            <div id="winButtons">
                <button id="winReset">Reset</button>
                <button id="winNext">Next</button>
                <button id="winMenu">Menu</button>
            </div>
        </div>
    </div>
    <div id="menuScreen" style="background-color: black;">
        <div id="titleContainer">
            <div id="t_redpixel"></div>
            <div id="t_textRed">Red</div>
            <div id="t_textPixel">Pixel</div>
            <div id="t_textSimulator">Simulator</div>
        </div>
        <button id="sandboxButton">SANDBOX</button>
        <button id="puzzleButton">PUZZLES</button>
        <div id="levelSelect">
            <button id="levelSelectClose">✖</button>
            <div id="levelSelectTitle">Puzzles</div>
            <div id="levelSelectBody"></div>
        </div>
        <div id="t_top">
            <div id="t_topredpixel"></div>
        </div>
        <div id="t_bottom">
            <div id="t_bottomredpixel"></div>
        </div>
    </div>
    <div id="modalContainer">
        <div id="modal">
            <h1 id="modalTitle"></h1>
            <p id="modalSubtitle"></p>
            <button id="modalYes">YES</button>
            <button id="modalNo">NO</button>
            <button id="modalOk">OK</button>
            <br>
            <br>
        </div>
    </div>
</body>
</html>